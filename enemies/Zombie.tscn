[gd_scene load_steps=15 format=3 uid="uid://xdqdpa7xf063"]

[ext_resource type="PackedScene" uid="uid://vdvdvl5u50ju" path="res://enemies/bases/EnemyBase.tscn" id="1_1wc6j"]
[ext_resource type="Script" path="res://enemies/Zombie.cs" id="2_ebxp2"]
[ext_resource type="Script" path="res://enemies/behaviours/SearchAndChaseBehaviourResource.cs" id="3_33kx3"]
[ext_resource type="Resource" uid="uid://cyriop8apjp04" path="res://enemies/behaviours/ChaseStateResource.tres" id="3_f7n18"]
[ext_resource type="Resource" uid="uid://e6qhfiw6v5v5" path="res://enemies/behaviours/IdleStateResource.tres" id="3_fonm0"]
[ext_resource type="Resource" uid="uid://t1ghug8qr4bl" path="res://enemies/behaviours/RoamStateResource.tres" id="4_4njiy"]
[ext_resource type="PackedScene" uid="uid://cbeqp8w8jjtj6" path="res://assets/zombie_root.glb" id="7_5nmdg"]

[sub_resource type="Resource" id="Resource_0qrbj"]
script = ExtResource("3_33kx3")
AnimationMap = {
"Chase": &"walk",
"Idle": &"idle",
"Roam": &"walk"
}
AnimationsNodePath = NodePath("AnimationTree")
IdleState = ExtResource("3_fonm0")
RoamState = ExtResource("4_4njiy")
ChaseState = ExtResource("3_f7n18")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_aenh6"]
animation = &"walking"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iji6s"]
animation = &"zombie idle (4)"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8d3qk"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yc74j"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kju81"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"walk"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_4bvte"]
states/Start/position = Vector2(102.5, 168.75)
states/walking/node = SubResource("AnimationNodeAnimation_aenh6")
states/walking/position = Vector2(675, 132.5)
"states/zombie idle/node" = SubResource("AnimationNodeAnimation_iji6s")
"states/zombie idle/position" = Vector2(294, 65.312)
transitions = ["Start", "zombie idle", SubResource("AnimationNodeStateMachineTransition_8d3qk"), "walking", "zombie idle", SubResource("AnimationNodeStateMachineTransition_yc74j"), "zombie idle", "walking", SubResource("AnimationNodeStateMachineTransition_kju81")]

[node name="Zombie" node_paths=PackedStringArray("MeshNode") instance=ExtResource("1_1wc6j")]
script = ExtResource("2_ebxp2")
MeshNode = NodePath("Mesh")
Behaviour = SubResource("Resource_0qrbj")

[node name="Mesh" parent="." index="0" instance=ExtResource("7_5nmdg")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Skeleton3D" parent="Mesh/Armature_002" index="0"]
bones/1/position = Vector3(1.55245e-06, 0.97947, 4.84353e-07)
bones/1/rotation = Quaternion(0.0192123, -0.0255291, -0.0113093, 0.999426)
bones/2/rotation = Quaternion(-0.0147147, -0.00607992, 0.00894595, 0.999833)
bones/3/rotation = Quaternion(0.023649, -0.00647172, 0.00230431, 0.999697)
bones/4/rotation = Quaternion(0.0806026, -0.00618954, 0.00328118, 0.996722)
bones/5/rotation = Quaternion(0.0871545, 0.0404336, -0.0916948, 0.991141)
bones/6/rotation = Quaternion(0.187771, 0.0614189, -0.127385, 0.971979)
bones/8/rotation = Quaternion(-0.5422, -0.491767, 0.52651, -0.432403)
bones/9/rotation = Quaternion(0.318231, 0.219241, 0.368054, 0.845694)
bones/10/rotation = Quaternion(4.85122e-07, -2.45797e-07, 0.462793, 0.886467)
bones/11/rotation = Quaternion(-0.210091, -0.074128, 0.017498, 0.974711)
bones/12/rotation = Quaternion(0.209986, -0.0554553, 0.0959483, 0.971403)
bones/13/rotation = Quaternion(-0.0519377, 0.0153885, -0.22633, 0.972543)
bones/14/rotation = Quaternion(-0.0441526, 0.00835189, -0.0853579, 0.995337)
bones/16/rotation = Quaternion(-0.115251, 0.0037926, 0.0455385, 0.992285)
bones/17/rotation = Quaternion(0.149877, -1.09427e-06, -0.0180939, 0.988539)
bones/18/rotation = Quaternion(0.0751567, -1.67332e-07, -0.00906969, 0.997131)
bones/20/rotation = Quaternion(-0.119233, 6.4378e-08, 0.0143889, 0.992762)
bones/21/rotation = Quaternion(0.150019, -1.99263e-07, -0.0181042, 0.988517)
bones/22/rotation = Quaternion(0.075155, -3.37117e-08, -0.00906981, 0.997131)
bones/24/rotation = Quaternion(-0.118618, -4.49262e-07, 0.0143193, 0.992837)
bones/25/rotation = Quaternion(0.15052, -1.32136e-06, -0.0181729, 0.98844)
bones/26/rotation = Quaternion(0.0756961, 1.54884e-07, -0.00913497, 0.997089)
bones/28/rotation = Quaternion(-0.0530483, -0.0017537, -0.0293244, 0.99816)
bones/29/rotation = Quaternion(0.113954, 0.00389373, 0.0215721, 0.993244)
bones/30/rotation = Quaternion(0.0656048, 1.56398e-05, -0.00768644, 0.997816)
bones/32/rotation = Quaternion(0.497641, -0.518903, 0.561183, 0.410081)
bones/33/rotation = Quaternion(0.365206, -0.216627, -0.369037, 0.826746)
bones/34/rotation = Quaternion(1.18938e-07, 5.75229e-08, -0.406291, 0.913744)
bones/35/rotation = Quaternion(-0.227972, 0.163134, -0.108307, 0.953774)
bones/36/rotation = Quaternion(0.191852, 0.0945957, -0.0794602, 0.973617)
bones/37/rotation = Quaternion(0.048808, -0.000434254, 0.262361, 0.963735)
bones/38/rotation = Quaternion(0.00852905, -0.000269227, 0.0846336, 0.996376)
bones/40/rotation = Quaternion(-0.041792, -0.00130718, -0.0339425, 0.998549)
bones/41/rotation = Quaternion(0.109258, 6.17715e-07, 0.013319, 0.993924)
bones/42/rotation = Quaternion(-0.018447, -1.31314e-07, -0.0022484, 0.999827)
bones/44/rotation = Quaternion(-0.097464, 1.61433e-08, -0.0118782, 0.995168)
bones/45/rotation = Quaternion(0.253037, 6.93461e-08, 0.0308371, 0.966965)
bones/46/rotation = Quaternion(0.127575, 6.19813e-08, 0.0155472, 0.991707)
bones/48/rotation = Quaternion(-0.0972859, 3.45412e-07, -0.011861, 0.995186)
bones/49/rotation = Quaternion(0.253034, 2.38714e-06, 0.0308445, 0.966966)
bones/50/rotation = Quaternion(0.127577, 2.24917e-07, 0.0155477, 0.991707)
bones/52/rotation = Quaternion(-0.0965904, 2.14263e-07, -0.0117747, 0.995255)
bones/53/rotation = Quaternion(0.253035, 3.01655e-06, 0.0308471, 0.966965)
bones/54/rotation = Quaternion(0.127577, -1.48896e-06, 0.0155368, 0.991707)
bones/56/rotation = Quaternion(0.166941, 0.142316, 0.972611, -0.0768396)
bones/57/rotation = Quaternion(-0.176372, -0.00846689, 0.0308701, 0.983803)
bones/58/rotation = Quaternion(0.554845, -0.0359202, -0.0507107, 0.82963)
bones/59/rotation = Quaternion(0.228073, -0.032458, -0.015343, 0.972982)
bones/61/rotation = Quaternion(-0.151802, 0.121816, 0.980724, 0.0172273)
bones/62/rotation = Quaternion(-0.166752, 0.0710025, -0.062732, 0.981436)
bones/63/rotation = Quaternion(0.560464, 0.0527455, 0.0261182, 0.826085)
bones/64/rotation = Quaternion(0.227709, 0.0321196, 0.0152578, 0.97308)

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
unique_name_in_owner = true
tree_root = SubResource("AnimationNodeStateMachine_4bvte")
anim_player = NodePath("../Mesh/AnimationPlayer")
active = true
root_motion_track = NodePath("Armature_002/Skeleton3D:mixamorig_Root")
parameters/conditions/idle = false
parameters/conditions/walk = false

[editable path="Mesh"]
